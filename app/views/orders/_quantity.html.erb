<%= form_for(item, :remote => true, :html=>{:id=>"q-#{item.id}", :style=>"" }) do |g| %>
  <% if (item.quantity == nil) || (item.quantity < 9) %>
	
	<%= g.select :quantity, ((1..9).map {|i| [i,i] } << ["10+",10]), { }, :id => "#{item.id}-select", onchange: "$('#q-#{item.id}').submit();", class: 'form-control input-sm', style: '', autofocus: true %>

	<% else %>

	<%= g.number_field :quantity, :id => "#{item.id}-select", onchange: "$('#q-#{item.id}').submit();", class: 'form-control input-sm', style: '', autofocus: true %><% g.submit %>
	<script>
	$('#{item.id}-select').bind('keyup mouseup', function () {
	    $('#q-#{item.id}').submit();          
	});â€‹
	</script>

	<% end %>
<% end %>